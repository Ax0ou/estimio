<!-- app/views/quotes/edit.html.erb -->

<h2>Ã‰diter votre devis</h2>

<%= simple_form_for @quote do |f| %>
  <%= f.error_notification %>

  <%= f.input :title,        label: "Titre du devis" %>
  <%= f.input :project_type, label: "Type de projet" %>

  <h3>Lignes de devis</h3>
  <%= f.simple_fields_for :quote_items do |item_f| %>
    <div class="row mb-2">
      <div class="col">
        <%= item_f.input :description %>
      </div>
      <div class="col">
        <%= item_f.input :quantity %>
      </div>
      <div class="col">
        <%= item_f.input :unit_price %>
      </div>
    </div>
  <% end %>

  <div class="mt-3">
    <%= f.button :submit, "Enregistrer les modifications", class: "btn btn-primary" %>
  </div>
<% end %>

<hr>

<div class="mt-4">
  <%= button_to "ðŸ”„ GÃ©nÃ©rer avec lâ€™IA",
                generate_from_ai_quote_path(@quote),
                method: :post,
                class: "btn btn-outline-secondary" %>
</div>
